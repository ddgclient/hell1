# This is a basic workflow to help you get started with Actions
name: CI
env:
  TARGET: "All"
  pValPath: .\pipeline_scripts\pVal\PrimeValTool.exe
  tosPath: C:\intel\hdmt\hdmtOS_3.10.0.0_Release
  #wiki_authkey: ${{secrets.WIKI_AUTHKEY}}

on: 
  push:
    branches: 
     - '**'

concurrency: 
  group: tos-validation

jobs:
            
  Release:
    runs-on: self-hosted
    steps:
      #- name: Print Key
      #  run: echo "The key is:${{secrets.WIKI_AUTHKEY}}"  
      - name: Print current repo ref
        run: echo $env:GITHUB_REF_NAME         
      - name: Run DocParser
        run: .\pipeline_scripts\DocParser.py
      - name: Run wiki_builder.py
        run: .\pipeline_scripts\wiki_builder.py -authkey ${{secrets.WIKI_AUTHKEY}}
      - name: Sleep for 30 seconds
        run: Start-Sleep -s 30
      #- name: Run CopyFolder.cmd
      #  run: .\pipeline_scripts\CopyFolder.cmd $env:GITHUB_REF_NAME
      #- name: Run emailRelease.exe
      #  run: .\pipeline_scripts\emailRelease.exe



















         
